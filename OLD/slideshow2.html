<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- HERE I TRY WITH ALL IMAGES PRELOADED AND JUST HIDDEN -->
    <style>
        .slideshow-container {
            max-width: 500px;
            max-height: 400px;
            height: 400px;
            position: relative;
            margin: auto;
            border: 1px solid gray;
            }
        .mySlides {
           
        }
       
        .imgclass {
            max-height: 300px;
            width: 100%;
            object-fit: fill;

        }
        
            /* Fading animation */
            .fade {
            -webkit-animation-name: fade;
            -webkit-animation-duration: 1.5s;
            animation-name: fade;
            animation-duration: 1.5s;
            }

            @-webkit-keyframes fade {
            from {opacity: .4} 
            to {opacity: 1}
            }

            @keyframes fade {
            from {opacity: .4} 
            to {opacity: 1}
            }

    </style>
</head>
<body>
    <button id="left">Left</button>
    <button id="right">Right</button>
    <div class="slideshow-container">
      
      <!--   <div class="mySlides">
            <img id="imgimg" style="opacity: 1;" src="https://picsum.photos/id/1003/200/300" class="imgclass" >
          </div> -->
       
    </div>
    <div id="hello">123</div>
    <script>
        const myImages = [
            "https://picsum.photos/id/1003/200/300",
            "https://picsum.photos/id/1012/200/300",
            "https://picsum.photos/id/1011/200/300",
            "https://picsum.photos/id//200/300"
        ];
        let counter = 0;
        let numberofImages = myImages.length;
        let maxCounterValue = numberofImages - 1;
        //first try dynamic

        let slideDynamic  = `
        <div class="mySlides slide${counter}" id="img${counter}" class="">
        <img id="imgimg" class="fade imgclass" src="${myImages[counter]}" class="imgclass" >
              
        </div>
        `;
        document.querySelector('.slideshow-container').innerHTML = slideDynamic;
        console.log(slideDynamic, 'slideDynamic ');
        //then try static 

        let stringa = 'hello';
     //create values for if else 
        console.log(maxCounterValue, 'maxCounterValue');
        
       /*  var element = document.getElementById("myDIV");
        element.classList.add("mystyle"); */
 
        //Put first image
        
       /*  let ImgArrayIndex = myImages.at(counter); */
        let ImgArrayIndex = myImages[counter];
        let mycount = 0; //for fade
        const imgspace = document.querySelector('#imgimg');
        imgspace.setAttribute("src", ImgArrayIndex);
        console.log(counter);


            //HERE TESTIGN FADING STUFF
            var element = document.querySelector(".imgimg");
            var duration = 500; /* fade duration in millisecsond */
            var hidtime = 100; /* time to stay hidden */
            var showtime = 500; /* time to stay visible */
            var running = 0 /* Used to check if fade is running */
            var iEcount = 1 /* Element Counter */
            var iTotalE = numberofImages;
            mycount = 1;


        let buttonLeft = document.querySelector('#left');
        let buttonRight = document.querySelector('#right');
         
        
        //RIGHT CLICK EVENT HANDLER

        buttonRight.addEventListener('click', function(event)
        {
         
           /*  NEW STUFF */
             /* let currentDiv = document.querySelector(`img${counter}`); */
           /*   let currentDiv = document.querySelector(`#img${counter}`); */
          /*  let currentDiv = document.querySelector('.MySlides'); */
    /*       let currentDiv = document.getElementById('imgimg'); */



    //CURRENT IMAGE DIV
    let imgcounter = `img${counter}`;
    console.log(imgcounter, 'imgcounter');
    let currentDiv = document.getElementById(imgcounter);
    currentDiv.style.display = 'none';  
    /* 
    console.log(currentDiv);
    let cdiv= currentDiv.getAttribute('id');
    console.log(`img${counter}`);
    console.log(cdiv, 'cdiv'); 
    let shownext = myImages[counter];
    */
    
    let imgdiv = document.querySelector('.mySlides');
      

       /* StartFade(); */
            if (counter < maxCounterValue) {
                    counter++;
                    console.log(counter, 'counter11');
                    
                }
            else if (counter >= maxCounterValue) {
                    counter = 0;
                    console.log(counter, 'counter11');
                };
           mycount = 1;
           
          /*  const slowimageswitch_forfade = setTimeout(() => imgspace.setAttribute("src", shownext), 500); */
          let imgcounternew = `img${counter}`;
          console.log(imgcounternew, 'imgcounternew');

          let slideDynamicNew  = `
            <div class="mySlides slide${counter}" id="img${counter}" class="">
            <img id="imgimg" class="fade imgclass" src="${myImages[counter]}" class="imgclass" >
                  
            </div>
            `;
        /*   let nextdiv = document.getElementById(imgcounter); */
          document.querySelector('.slideshow-container').innerHTML = slideDynamicNew;
       /*    nextdiv.style.display = 'block'; */

           
           console.log(mycount, 'mycount after click');
        })
      
             
              /*   function SetOpa(Opa) {
                    var element = document.querySelector(".mySlides");
                 
                    element.style.opacity = Opa;
                    element.style.MozOpacity = Opa;
                    element.style.KhtmlOpacity = Opa;
                    element.style.filter = 'alpha(opacity=' + (Opa * 100) + ');';
                }
                function StartFade() {
                    console.log(mycount, 'mycount');
                    fadeOut()
                }
                let fade_in_time = '';  
                let callFadeout =  '';
                let callFadein = '';
                function fadeOut() {
                    for (i = 0; i <= 1; i += 0.01) {
                        fade_in_time =  setTimeout("SetOpa(" + (1 - i) +")", i * duration);
                    }
                    
                    callFadein = setTimeout("FadeIn()", (duration + hidtime));
                    }
                function FadeIn() {
                   
                    for (i = 0; i <= 1; i += 0.01) {
                       
                        callFadeout = setTimeout("SetOpa(" + i +")", i * duration);
                    }
                    mycount = 0;
                    clearInterval(fade_in_time);
                    clearInterval(callFadeout);
                    clearInterval(callFadein);
                    
       
     
                    console.log(mycount, 'after fadein');
                
                    }
               */
    </script>
</body>
</html>